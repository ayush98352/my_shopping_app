import './polyfills.server.mjs';
import{a as D}from"./chunk-FGAN7Y3N.mjs";import{a as z}from"./chunk-4LTLXOTK.mjs";import{$ as v,J as I,Ka as E,L as c,M as u,Ma as F,Na as B,Oa as j,R as b,S as f,W as i,X as r,Y as l,Z as O,_ as k,aa as p,ba as h,eb as U,fa as d,ga as S,ha as x,hb as V,jb as W,m as M,ma as T,r as C,s as P,t as _,u as y}from"./chunk-Q6QYHI2G.mjs";import{h as m}from"./chunk-5XUXGTUW.mjs";function N(a,w){if(a&1){let e=v();i(0,"span",25),p("click",function(t){C(e);let o=h().$implicit,s=h();return P(s.addToWishlist(o,t))}),_(),i(1,"svg",26),l(2,"path",9),r()()}}function A(a,w){if(a&1){let e=v();i(0,"span",25),p("click",function(t){C(e);let o=h().$implicit,s=h();return P(s.removeFromWishlist(o,t))}),_(),i(1,"svg",27),l(2,"path",28),r()()}}function L(a,w){if(a&1){let e=v();O(0),i(1,"div",15),p("click",function(){let t=C(e).$implicit,o=h();return P(o.gotoShowProductPage(t))}),i(2,"div"),l(3,"img",16),r(),i(4,"div",17)(5,"p"),d(6),i(7,"span",18),d(8),r()(),b(9,N,3,0,"span",19)(10,A,3,0,"span",19),r(),i(11,"p",20)(12,"span",21),d(13),r(),i(14,"span",22)(15,"span",23),d(16),r(),d(17," ("),i(18,"span",24),d(19),r(),d(20,") "),r()()(),k()}if(a&2){let e=w.$implicit;c(3),f("src","assets/img/products/"+(e==null?null:e.main_image)+".jpg",I)("alt",e==null?null:e.main_image),c(3),x("",e==null?null:e.brand_name," "),c(2),S(e==null?null:e.product_short_name),c(),f("ngIf",(e==null?null:e.iswishlisted)!="1"),c(),f("ngIf",(e==null?null:e.iswishlisted)=="1"),c(3),x("\u20B9",e==null?null:e.selling_price,""),c(3),x("\u20B9",e==null?null:e.mrp,""),c(3),x("",e==null?null:e.discount_percent,"% OFF")}}var K=(()=>{class a{constructor(e,n,t,o,s){this.apiService=e,this.router=n,this.route=t,this.dataShareService=o,this.location=s,this.category={},this.products=[],this.loggedInUserId=localStorage.getItem("loggedInUserId"),this.route.queryParams.subscribe(g=>{this.categoryId=g.category_id,this.brandId=g.brand_id})}ngOnInit(){return m(this,null,function*(){this.route.params.subscribe(e=>{this.categoryId=e.category_id,this.brandId=e.brand_id}),this.displayName=this.dataShareService.getData(),this.categoryId&&(yield this.getAllCategoryProducts(this.categoryId)),this.brandId&&(yield this.getAllBrandProducts(this.brandId))})}getAllCategoryProducts(e){return m(this,null,function*(){let n={user_id:this.loggedInUserId,category_id:e};yield this.apiService.getDataWithParams("/home/getSelectedCategoryProduct",n).subscribe(t=>{this.products=JSON.parse(JSON.stringify(t.result)),console.log("products",this.products)},t=>{console.error("Error fetching data:",t)})})}getAllBrandProducts(e){return m(this,null,function*(){let n={user_id:this.loggedInUserId,brand_id:e};yield this.apiService.getDataWithParams("/home/getSelectedBrandProduct",n).subscribe(t=>{this.products=JSON.parse(JSON.stringify(t.result))},t=>{console.error("Error fetching data:",t)})})}addToWishlist(e,n){return m(this,null,function*(){n.stopPropagation(),n.preventDefault();let t={user_id:this.loggedInUserId,product_id:e.product_id};yield this.apiService.getDataWithParams("/home/addToWishlist",t).subscribe(o=>{if(o.code==200&&o.message=="sucess"){let s=this.products.findIndex(g=>g.product_id===e.product_id);s!==-1?this.products[s].iswishlisted="1":alert("Unable to add to wishlist")}else alert("Unable to add to wishlist")})})}removeFromWishlist(e,n){return m(this,null,function*(){n.stopPropagation(),n.preventDefault();let t={user_id:this.loggedInUserId,product_id:e.product_id};yield this.apiService.getDataWithParams("/home/removeFromWishlist",t).subscribe(o=>{if(console.log("removeFromWishlist",o),o.code==200&&o.message=="sucess"){let s=this.products.findIndex(g=>g.product_id===e.product_id);s!==-1?this.products[s].iswishlisted="0":alert("Unable to remove to wishlist")}else alert("Unable To remove from wishlist")})})}gotoShowProductPage(e){return this.dataShareService.setProductDetails(e),this.router.navigate(["/product",e.product_id])}goToWishlistPage(){return this.router.navigate(["/wishlist",this.loggedInUserId])}goToBagPage(){return this.router.navigate(["/cart",this.loggedInUserId])}goBackToPreviousPage(){this.location.back()}static{this.\u0275fac=function(n){return new(n||a)(u(z),u(V),u(U),u(D),u(E))}}static{this.\u0275cmp=M({type:a,selectors:[["app-category-products"]],standalone:!0,features:[T],decls:18,vars:2,consts:[[1,"container"],[1,"header"],[1,"header1"],["width","32","height","31","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"header-icon",3,"click"],["d","M15 18L9 12L15 6","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","32","height","31","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"header-icon"],["d","M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 21L16.65 16.65","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","32","height","31","viewBox","0 0 24 24","fill","none",1,"header-icon",3,"click"],["d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z","stroke","#242424","stroke-width","2"],["src","assets/svg/cart-icon.svg","alt","cart",1,"header-icon",3,"click"],[1,"content"],[1,"section"],[1,"product-grid"],[4,"ngFor","ngForOf"],[1,"product-grid-item",3,"click"],["ngOptimizedImage","",3,"src","alt"],[1,"product-name"],[1,"short-name"],[3,"click",4,"ngIf"],[1,"price-info"],[1,"selling-price"],[1,"mrp-discount"],[1,"mrp"],[1,"discount-percent"],[3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none"],["width","20","height","20","viewBox","0 0 24 24","fill","#FF3F6C"],["d","M16.23 3c-1.62-.01-3.15.69-4.23 1.92A5.513 5.513 0 0 0 7.79 3C4.6 3 2 5.76 2 9.16c0 4.92 6.71 9.83 9.59 11.71.12.09.27.13.41.13.14 0 .29-.04.41-.12C15.29 18.99 22 14.08 22 9.16 22 5.76 19.4 3 16.23 3Z","fill","#FF3F6C"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),_(),i(3,"svg",3),p("click",function(){return t.goBackToPreviousPage()}),l(4,"path",4),r(),y(),i(5,"h2"),d(6),r()(),i(7,"div"),_(),i(8,"svg",5),l(9,"path",6)(10,"path",7),r(),i(11,"svg",8),p("click",function(){return t.goToWishlistPage()}),l(12,"path",9),r(),y(),i(13,"img",10),p("click",function(){return t.goToBagPage()}),r()()(),i(14,"div",11)(15,"div",12)(16,"div",13),b(17,L,21,9,"ng-container",14),r()()()()),n&2&&(c(6),S(t.displayName),c(11),f("ngForOf",t.products))},dependencies:[j,F,B,W],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{background-color:#fff;padding:15px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 2px 4px #0000001a}.header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:8px;border-radius:5px;margin-right:8px}.header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.header1[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:-20px}.header-icon[_ngcontent-%COMP%]{width:32px;height:25px;margin-left:5px;margin-right:5px;cursor:pointer}.content[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}.section[_ngcontent-%COMP%]{background-color:#fff;padding:14px 0 0;margin-bottom:15px;border-radius:10px;box-shadow:0 2px 4px #0000001a}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}.section[_ngcontent-%COMP%]   .view-more[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700;font-size:14px}.button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:13px}.product-grid-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;overflow:hidden;padding:12px 14px;box-shadow:0 1px 3px #0000001a;position:relative;border-radius:10px}.product-grid-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:160px;border-radius:10px;object-fit:contain;background-color:#fff}.product-name[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.product-grid-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px;line-height:21px;font-family:Poppins;font-weight:500;justify-content:space-between}.short-name[_ngcontent-%COMP%]{font-size:9px;line-height:12px;display:block;margin-top:-3px;color:#4e5a37}.price-info[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-style:normal;display:flex;flex-direction:column}.selling-price[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#000}.mrp-discount[_ngcontent-%COMP%]{align-items:center;margin-top:-3px}.mrp[_ngcontent-%COMP%]{font-size:12px;color:#aaa;text-decoration:line-through;margin-right:5px;font-weight:400}.discount-percent[_ngcontent-%COMP%]{font-size:12px;color:#ed4a4a;font-weight:400}"]})}}return a})();export{K as CategoryProductsComponent};
