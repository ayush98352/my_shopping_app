import './polyfills.server.mjs';
import{a as j,b as A}from"./chunk-HYFUS7RT.mjs";import{$ as v,J as b,Ka as E,L as c,M as P,Ma as T,Na as W,Oa as B,R as C,S as m,W as t,X as n,Y as _,Z as k,_ as y,aa as d,ba as p,fa as i,ga as x,ha as a,hb as V,jb as F,m as S,ma as z,na as I,r as u,s as g,t as M,u as O}from"./chunk-Q6QYHI2G.mjs";import{h}from"./chunk-5XUXGTUW.mjs";var R=()=>["S","M","L","XL"];function U(l,f){if(l&1){let e=v();k(0),t(1,"div",15),d("click",function(){let r=u(e).$implicit,s=p();return g(s.gotoShowProductPage(r))}),t(2,"div"),_(3,"img",16),n(),t(4,"div",17)(5,"p"),i(6),t(7,"span",18),i(8),n()(),t(9,"div",19),d("click",function(r){let s=u(e).$implicit,w=p();return g(w.showRemoveConfirmation(s,r))}),_(10,"img",20),n()(),t(11,"p",21)(12,"span",22),i(13),n(),t(14,"span",23)(15,"span",24),i(16),n(),i(17," ("),t(18,"span",25),i(19),n(),i(20,") "),n()(),t(21,"div",26)(22,"button",27),d("click",function(r){let s=u(e).$implicit,w=p();return g(w.showAddToCartConfirmation(s,r))}),i(23,"Add to cart"),n()()(),y()}if(l&2){let e=f.$implicit;c(3),m("src","assets/img/products/"+(e==null?null:e.main_image)+".jpg",b)("alt",e==null?null:e.main_image),c(3),a("",e==null?null:e.brand_name," "),c(2),x(e==null?null:e.product_short_name),c(5),a("\u20B9",e==null?null:e.selling_price,""),c(3),a("\u20B9",e==null?null:e.mrp,""),c(3),a("",e==null?null:e.discount_percent,"% OFF")}}function D(l,f){if(l&1){let e=v();t(0,"div",28)(1,"div",29)(2,"div",30),_(3,"img",20),t(4,"h3"),i(5,"Remove Product"),n()(),t(6,"p"),i(7,"Are you sure you want to remove this product from your wishlist?"),n(),t(8,"div",31),_(9,"img",32),t(10,"div",33)(11,"h2"),i(12),n(),t(13,"p"),i(14),n(),t(15,"span",22),i(16),n(),t(17,"span",23)(18,"span",24),i(19),n(),i(20," ("),t(21,"span",25),i(22),n(),i(23,") "),n()()(),t(24,"div",34)(25,"button",35),d("click",function(){u(e);let r=p();return g(r.closePopups())}),i(26,"Cancel"),n(),t(27,"button",36),d("click",function(){u(e);let r=p();return g(r.confirmRemoveFromWishlist())}),i(28,"Yes"),n()()()()}if(l&2){let e=p();c(9),m("src","assets/img/products/"+(e.selectedProduct==null?null:e.selectedProduct.main_image)+".jpg",b)("alt",e.selectedProduct==null?null:e.selectedProduct.main_image),c(3),x(e.selectedProduct==null?null:e.selectedProduct.brand_name),c(2),x(e.selectedProduct==null?null:e.selectedProduct.product_short_name),c(2),a("\u20B9",e.selectedProduct==null?null:e.selectedProduct.selling_price," \xA0"),c(3),a("\u20B9",e.selectedProduct==null?null:e.selectedProduct.mrp,""),c(3),a("",e.selectedProduct==null?null:e.selectedProduct.discount_percent,"% OFF")}}function L(l,f){if(l&1){let e=v();t(0,"button",40),d("click",function(){let r=u(e).$implicit,s=p(2);return g(s.saveSelectedSize(r))}),i(1),n()}if(l&2){let e=f.$implicit;c(),x(e)}}function $(l,f){l&1&&(t(0,"div")(1,"p",41)(2,"span",42),i(3,"*"),n(),i(4,"Please select size"),n()())}function H(l,f){if(l&1){let e=v();t(0,"div",28)(1,"div",29)(2,"h3"),i(3,"Select Size"),n(),t(4,"p"),i(5),n(),t(6,"div",31),_(7,"img",32),t(8,"div",33)(9,"h2"),i(10),n(),t(11,"p"),i(12),n(),t(13,"span",22),i(14),n(),t(15,"span",23)(16,"span",24),i(17),n(),i(18," ("),t(19,"span",25),i(20),n(),i(21,") "),n()()(),t(22,"div",37),C(23,L,2,1,"button",38),n(),C(24,$,5,0,"div",39),t(25,"div",34)(26,"button",35),d("click",function(){u(e);let r=p();return g(r.closePopups())}),i(27,"Cancel"),n(),t(28,"button",36),d("click",function(){u(e);let r=p();return g(r.confirmAddToCart())}),i(29,"Add To Cart"),n()()()()}if(l&2){let e=p();c(5),a("Please select a size for ",e.selectedProduct==null?null:e.selectedProduct.product_short_name,""),c(2),m("src","assets/img/products/"+(e.selectedProduct==null?null:e.selectedProduct.main_image)+".jpg",b)("alt",e.selectedProduct==null?null:e.selectedProduct.main_image),c(3),x(e.selectedProduct==null?null:e.selectedProduct.brand_name),c(2),x(e.selectedProduct==null?null:e.selectedProduct.product_short_name),c(2),a("\u20B9",e.selectedProduct==null?null:e.selectedProduct.selling_price," \xA0"),c(3),a("\u20B9",e.selectedProduct==null?null:e.selectedProduct.mrp,""),c(3),a("",e.selectedProduct==null?null:e.selectedProduct.discount_percent,"% OFF"),c(3),m("ngForOf",I(10,R)),c(),m("ngIf",e.selectedSize=="")}}var K=(()=>{class l{constructor(e,o,r,s){this.apiService=e,this.router=o,this.dataShareService=r,this.location=s,this.loggedInUserId=localStorage.getItem("loggedInUserId"),this.wishlistedProducts=[],this.showRemovePopup=!1,this.showAddToCartPopup=!1,this.selectedSize=""}ngOnInit(){return h(this,null,function*(){yield this.getWishlistedProducts()})}getWishlistedProducts(){return h(this,null,function*(){let e={user_id:this.loggedInUserId};yield this.apiService.getDataWithParams("/home/getWishlistedProducts",e).subscribe(o=>{this.wishlistedProducts=JSON.parse(JSON.stringify(o.result))},o=>{console.error("Error fetching data:",o)})})}showRemoveConfirmation(e,o){o.stopPropagation(),o.preventDefault(),this.selectedProduct=e,this.showRemovePopup=!0}confirmRemoveFromWishlist(){return h(this,null,function*(){this.selectedProduct&&(yield this.removeFromWishlist(this.selectedProduct),this.closePopups())})}removeFromWishlist(e){return h(this,null,function*(){let o={user_id:this.loggedInUserId,product_id:e.product_id};yield this.apiService.getDataWithParams("/home/removeFromWishlist",o).subscribe(r=>{r.code==200&&r.message=="sucess"?this.wishlistedProducts=this.wishlistedProducts.filter(s=>s.product_id!==e.product_id):alert("Unable To remove from wishlist")})})}showAddToCartConfirmation(e,o){o.stopPropagation(),o.preventDefault(),this.selectedProduct=e,this.showAddToCartPopup=!0}saveSelectedSize(e){this.selectedSize=e}confirmAddToCart(){return h(this,null,function*(){this.selectedProduct&&this.selectedSize&&(yield this.addToCart(this.selectedProduct,this.selectedSize),this.closePopups()),this.selectedSize=""})}addToCart(e,o){return h(this,null,function*(){let r={user_id:this.loggedInUserId,product_id:e.product_id,size:o};yield this.apiService.getDataWithParams("/home/addToCart",r).subscribe(s=>{s.code==200&&s.message=="sucess"&&this.removeFromWishlist(e)})})}gotoShowProductPage(e){return this.dataShareService.setProductDetails(e),this.router.navigate(["/product",e.product_id])}goToBagPage(){return this.router.navigate(["/cart",this.loggedInUserId])}goBackToPreviousPage(){this.location.back()}closePopups(){this.showRemovePopup=!1,this.showAddToCartPopup=!1,this.selectedSize=""}static{this.\u0275fac=function(o){return new(o||l)(P(A),P(V),P(j),P(E))}}static{this.\u0275cmp=S({type:l,selectors:[["app-wishlist"]],standalone:!0,features:[z],decls:19,vars:3,consts:[[1,"container"],[1,"header"],[1,"header1"],["width","32","height","31","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"header-icon",3,"click"],["d","M15 18L9 12L15 6","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","32","height","31","viewBox","0 0 32 31","fill","none","xmlns","http://www.w3.org/2000/svg",1,"header-icon",3,"click"],["d","M12.125 23.25C13.1951 23.25 14.0625 24.1174 14.0625 25.1875C14.0625 26.2576 13.1951 27.125 12.125 27.125C11.0549 27.125 10.1875 26.2576 10.1875 25.1875C10.1875 24.1174 11.0549 23.25 12.125 23.25Z","stroke","#1B1B1B","stroke-width","1.8125"],["d","M21.1667 23.25C22.2368 23.25 23.1042 24.1174 23.1042 25.1875C23.1042 26.2576 22.2368 27.125 21.1667 27.125C20.0967 27.125 19.2292 26.2576 19.2292 25.1875C19.2292 24.1174 20.0967 23.25 21.1667 23.25Z","stroke","#1B1B1B","stroke-width","1.8125"],["d","M7.927 15.5C7.927 13.6459 7.92906 12.3528 8.06024 11.3772C8.18766 10.4294 8.42074 9.92745 8.77822 9.56997C9.1357 9.21249 9.63761 8.97941 10.5854 8.85199C11.5611 8.7208 12.8542 8.71875 14.7083 8.71875H18.4763C20.6294 8.71875 22.1401 8.72106 23.263 8.88043C24.3589 9.03598 24.9065 9.31952 25.2681 9.74648C25.6298 10.1734 25.8196 10.7602 25.7928 11.8668C25.7654 13.0005 25.5192 14.4911 25.1653 16.6148C24.9035 18.1858 24.7201 19.2753 24.477 20.092C24.2417 20.8826 23.9816 21.301 23.6375 21.5925C23.2933 21.8841 22.838 22.0717 22.0193 22.1739C21.1738 22.2794 20.0691 22.2812 18.4763 22.2812H14.7083C12.8542 22.2812 11.5611 22.2792 10.5854 22.1481C9.63761 22.0206 9.1357 21.7876 8.77822 21.43C8.42074 21.0725 8.18766 20.5707 8.06024 19.6229C7.92906 18.6471 7.927 17.3541 7.927 15.5Z","stroke","#1B1B1B","stroke-width","1.8125"],["d","M7.92716 14.8542V6.45833C7.92716 5.0316 6.77057 3.875 5.34383 3.875H3.72925","stroke","#1B1B1B","stroke-width","1.8125","stroke-linecap","round"],[1,"content"],[1,"section"],[1,"product-grid"],[4,"ngFor","ngForOf"],["class","popup-overlay",4,"ngIf"],[1,"product-grid-item",3,"click"],["ngOptimizedImage","",3,"src","alt"],[1,"product-name"],[1,"short-name"],[1,"remove-button",3,"click"],["src","assets/svg/delete-icon.svg","alt","delete","width","20","height","20",1,"remove-button"],[1,"price-info"],[1,"selling-price"],[1,"mrp-discount"],[1,"mrp"],[1,"discount-percent"],[1,"action-buttons"],[1,"action-button","add-to-cart-button",3,"click"],[1,"popup-overlay"],[1,"popup-content"],[2,"display","flex","align-items","center","gap","7px"],[1,"product-item"],[1,"product-image",3,"src","alt"],[1,"product-details"],[1,"popup-buttons"],[1,"cancel",3,"click"],[1,"confirm",3,"click"],[1,"size-buttons"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[2,"align-items","center","text-align","center"],[2,"color","red"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),M(),t(3,"svg",3),d("click",function(){return r.goBackToPreviousPage()}),_(4,"path",4),n(),O(),t(5,"h2"),i(6,"Wishlist"),n()(),t(7,"div"),M(),t(8,"svg",5),d("click",function(){return r.goToBagPage()}),_(9,"path",6)(10,"path",7)(11,"path",8)(12,"path",9),n()()(),O(),t(13,"div",10)(14,"div",11)(15,"div",12),C(16,U,24,7,"ng-container",13),n()()(),C(17,D,29,7,"div",14)(18,H,30,11,"div",14),n()),o&2&&(c(16),m("ngForOf",r.wishlistedProducts),c(),m("ngIf",r.showRemovePopup),c(),m("ngIf",r.showAddToCartPopup))},dependencies:[B,T,W,F],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:sans-serif}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{background-color:#fff;padding:15px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 2px 4px #0000001a}.header[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:8px;border-radius:5px;margin-right:8px}.header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.header1[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:-20px}.header-icon[_ngcontent-%COMP%]{width:32px;height:25px;margin-left:5px;margin-right:5px;cursor:pointer}.content[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}.section[_ngcontent-%COMP%]{background-color:#fff;margin-bottom:15px;border-radius:10px;box-shadow:0 2px 4px #0000001a}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}.section[_ngcontent-%COMP%]   .view-more[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700;font-size:14px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:15px}.grid-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;border-radius:5px;overflow:hidden;padding:10px;box-shadow:0 1px 3px #0000001a;position:relative}.grid-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom:1px solid #e0e0e0}.grid-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.mrp[_ngcontent-%COMP%]{font-size:12px;color:#aaa;text-decoration:line-through}.discount-percent[_ngcontent-%COMP%]{font-size:12px;color:#cf9a65;font-weight:700}.button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.action-button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:30px;padding:5px 10px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;flex-grow:1;cursor:pointer;transition:background-color .3s;margin-right:0}.action-button[_ngcontent-%COMP%]:hover{background-color:#e9e9e9}.action-text[_ngcontent-%COMP%]{margin-left:10px;color:#f27987;font-size:13px;font-weight:600;margin-right:10px}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:13px}.product-grid-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0e0;overflow:hidden;padding:12px 14px;box-shadow:0 1px 3px #0000001a;position:relative;border-radius:10px}.product-grid-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:160px;border-radius:10px;object-fit:contain;background-color:#fff}.product-name[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.product-grid-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px;line-height:21px;font-family:Poppins;font-weight:500;justify-content:space-between}.short-name[_ngcontent-%COMP%]{font-size:9px;line-height:12px;display:block;margin-top:-3px;color:#4e5a37}.price-info[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-style:normal;display:flex;flex-direction:column}.selling-price[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#000}.mrp-discount[_ngcontent-%COMP%]{align-items:center;margin-top:-3px}.mrp[_ngcontent-%COMP%]{font-size:12px;color:#aaa;text-decoration:line-through;margin-right:5px;font-weight:400}.discount-percent[_ngcontent-%COMP%]{font-size:12px;color:#ed4a4a;font-weight:400}.product-grid-item[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.add-to-cart-button[_ngcontent-%COMP%]{background-color:#242424;color:#fff}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:15px}.action-button[_ngcontent-%COMP%]{flex:1;height:28px;display:flex;justify-content:center;align-items:center;border-radius:8px;font-size:14px;font-weight:700}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.popup-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;text-align:left;max-width:80%;width:300px}.popup-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:2px;font-size:18px;line-height:18px;font-weight:500}.popup-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:2px;font-size:12px;line-height:12px;font-weight:500}.popup-buttons[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:10px;align-items:center;justify-content:center}.popup-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;height:30px;display:flex;justify-content:center;align-items:center;border-radius:8px;font-size:12px;font-weight:700;padding:10px 20px;cursor:pointer}.popup-buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:#fff}.popup-buttons[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{background-color:#242424;color:#fff}.size-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:15px}.size-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#f0f0f0;border:1px solid #ddd;cursor:pointer}.size-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.product-item[_ngcontent-%COMP%]{display:flex;gap:20px;position:relative;background-color:#f9f9f9;padding:15px;border-radius:10px}.product-image[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:5px}.product-details[_ngcontent-%COMP%]{flex-grow:1}.product-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin:0 0 5px}.product-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0 0 10px}"]})}}return l})();export{K as WishlistComponent};
