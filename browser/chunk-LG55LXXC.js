import{a as A}from"./chunk-76ZSHNLA.js";import{B as s,C as m,Ca as L,G as y,H as p,I as h,L as t,M as i,N as u,Q as b,R as a,S as w,W as o,X as z,Y as _,ba as M,c as d,da as f,ka as E,la as F,n as k,na as D,oa as O,r as S,s as P,t as g,u as C,xa as T,z as I,za as W}from"./chunk-VYP6M4VI.js";var v=c=>({selected:c});function B(c,j){if(c&1){let r=b();t(0,"div",45),a("click",function(){S(r);let e=w();return P(e.addToWishlist())}),g(),t(1,"svg",46),u(2,"path",9),i()()}}function U(c,j){if(c&1){let r=b();t(0,"div",45),a("click",function(){S(r);let e=w();return P(e.removeFromWishlist())}),g(),t(1,"svg",47),u(2,"path",48),i()()}}var R=(()=>{class c{constructor(r,n,e,l,x){this.apiService=r,this.router=n,this.route=e,this.dataShareService=l,this.location=x,this.imagesArray=[],this.currentIndex=0,this.currentImage="",this.inWishlist=!1,this.inCart=!1,this.loggedInUserId=localStorage.getItem("loggedInUserId"),this.selectedSize=""}ngOnInit(){return d(this,null,function*(){this.route.params.subscribe(r=>{this.productId=r.product_id}),this.productDetails=this.dataShareService.getProductDetails(),yield this.getProductDetails(this.productId),this.currentImage=this.productDetails?.main_image})}getScrollImages(){return d(this,null,function*(){let r=()=>{this.currentImage=this.imagesArray[this.currentIndex]},n=e=>{e==="prev"?this.currentIndex=(this.currentIndex-1+this.imagesArray.length)%this.imagesArray.length:e==="next"&&(this.currentIndex=(this.currentIndex+1)%this.imagesArray.length),r()};document.querySelector(".carousel-prev")&&document.querySelector(".carousel-prev")?.addEventListener("click",()=>n("prev")),document.querySelector(".carousel-next")&&document.querySelector(".carousel-next")?.addEventListener("click",()=>n("next")),r(),this.checkWishlistStatus()})}getProductDetails(r){return d(this,null,function*(){let n={product_id:r};yield this.apiService.getDataWithParams("/home/getProductDetails",n).subscribe(e=>{this.productDetails=e.result[0],this.dataShareService.setProductDetails(this.productDetails),this.currentImage=this.productDetails?.main_image,this.imagesArray=[this.productDetails?.main_image,...this.productDetails?.additional_images],this.getScrollImages()},e=>{console.error("Error fetching data:",e)})})}onImageError(r){this.currentIndex<this.imagesArray.length-1?(this.currentIndex=(this.currentIndex+1)%this.imagesArray.length,this.currentImage=this.imagesArray[this.currentIndex]):(this.currentIndex=0,this.currentImage=this.imagesArray[this.currentIndex])}checkWishlistStatus(){return d(this,null,function*(){let r={user_id:this.loggedInUserId,product_id:this.productId};yield this.apiService.getDataWithParams("/home/checkWishlistStatus",r).subscribe(n=>{n.code==200&&n.message=="sucess"?n.result[0]&&n.result[0].inWishlist===0?this.inWishlist=!1:n.result[0].inWishlist>0?this.inWishlist=!0:this.inWishlist=!1:this.inWishlist=!1})})}addToWishlist(){return d(this,null,function*(){let r={user_id:this.loggedInUserId,product_id:this.productId};yield this.apiService.getDataWithParams("/home/addToWishlist",r).subscribe(n=>{n.code==200&&n.message=="sucess"?this.inWishlist=!0:(this.inWishlist=!1,alert("Unable to add to wishlist"))})})}removeFromWishlist(){return d(this,null,function*(){let r={user_id:this.loggedInUserId,product_id:this.productId};yield this.apiService.getDataWithParams("/home/removeFromWishlist",r).subscribe(n=>{n.code==200&&n.message=="sucess"?this.inWishlist=!1:(this.inWishlist=!0,alert("Unable To remove from wishlist"))})})}setSelectedSize(r){return d(this,null,function*(){this.selectedSize=r})}addToCart(){return d(this,null,function*(){if(!this.selectedSize||this.selectedSize==""){alert("Please select size");return}else{let r={user_id:this.loggedInUserId,product_id:this.productId,size:this.selectedSize};yield this.apiService.getDataWithParams("/home/addToCart",r).subscribe(n=>{n.code==200&&n.message=="sucess"&&(this.inCart=!0)})}})}goToWishlistPage(){return this.router.navigate(["/wishlist",this.loggedInUserId])}goBackToPreviousPage(){this.location.back()}goToBagPage(){return this.router.navigate(["/cart",this.loggedInUserId])}static{this.\u0275fac=function(n){return new(n||c)(m(L),m(W),m(T),m(A),m(E))}}static{this.\u0275cmp=k({type:c,selectors:[["app-product"]],standalone:!0,features:[M],decls:67,vars:35,consts:[[1,"container"],[1,"header"],[1,"header1"],["width","32","height","31","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"header-icon",3,"click"],["d","M15 18L9 12L15 6","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","32","height","31","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"header-icon"],["d","M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 21L16.65 16.65","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","32","height","31","viewBox","0 0 24 24","fill","none",1,"header-icon",3,"click"],["d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z","stroke","#242424","stroke-width","2"],["src","assets/svg/cart-icon.svg","alt","cart",1,"header-icon",3,"click"],[1,"content"],[1,"product-images"],[1,"product-image",3,"error","src","alt"],[1,"carousel-prev"],[1,"carousel-next"],[1,"color-options"],[1,"color-option",2,"background-color","#394240"],[1,"color-option",2,"background-color","#785235"],[1,"color-option",2,"background-color","#9ECCE8"],[1,"product-title"],["style","margin-right: 5px;",3,"click",4,"ngIf"],[1,"price-container"],[1,"current-price"],[1,"original-price"],[1,"discount"],[1,"rating"],["viewBox","0 0 21 21",1,"star-icon"],["d","M10.5 0l3.09 6.95L21 7.5l-5.25 5.07L16.18 21 10.5 17.25 4.82 21l1.43-8.43L0 7.5l7.41-0.55L10.5 0z"],[1,"rating-text"],[1,"reviews"],[1,"size-selection"],[1,"size-header"],[1,"size-title"],[1,"size-chart"],[1,"size-options"],[1,"size-option",2,"border","1.84px solid #95F3FC",3,"click","ngClass"],[1,"size-option",2,"border","1.84px solid #FEC7E8",3,"click","ngClass"],[1,"size-option",2,"border","1.84px solid #DFDDFE",3,"click","ngClass"],[1,"size-option",2,"border","1.84px solid #FDF0A9",3,"click","ngClass"],[1,"size-option",2,"border","1.84px solid #CEFEDB",3,"click","ngClass"],[1,"product-description"],[1,"action-buttons"],[1,"action-button","buy-now-button"],[1,"action-button","add-to-cart-button",3,"click"],[2,"margin-right","5px",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none"],["width","20","height","20","viewBox","0 0 24 24","fill","#FF3F6C"],["d","M16.23 3c-1.62-.01-3.15.69-4.23 1.92A5.513 5.513 0 0 0 7.79 3C4.6 3 2 5.76 2 9.16c0 4.92 6.71 9.83 9.59 11.71.12.09.27.13.41.13.14 0 .29-.04.41-.12C15.29 18.99 22 14.08 22 9.16 22 5.76 19.4 3 16.23 3Z","fill","#FF3F6C"]],template:function(n,e){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),g(),t(3,"svg",3),a("click",function(){return e.goBackToPreviousPage()}),u(4,"path",4),i(),C(),t(5,"h2"),o(6),i()(),t(7,"div"),g(),t(8,"svg",5),u(9,"path",6)(10,"path",7),i(),t(11,"svg",8),a("click",function(){return e.goToWishlistPage()}),u(12,"path",9),i(),C(),t(13,"img",10),a("click",function(){return e.goToBagPage()}),i()()(),t(14,"div",11)(15,"div",12)(16,"img",13),a("error",function(x){return e.onImageError(x)}),i(),t(17,"button",14),o(18,"\u2039"),i(),t(19,"button",15),o(20,"\u203A"),i()(),t(21,"div",16),u(22,"div",17)(23,"div",18)(24,"div",19),i(),t(25,"h1",20),o(26),y(27,B,3,0,"div",21)(28,U,3,0,"div",21),i(),t(29,"div",22)(30,"span",23),o(31),i(),t(32,"span",24),o(33),i(),t(34,"span",25),o(35),i()(),t(36,"div",26),g(),t(37,"svg",27),u(38,"path",28),i(),C(),t(39,"span",29),o(40,"4.5"),i(),t(41,"span",30),o(42,"(500 Reviews)"),i()(),t(43,"div",31)(44,"div",32)(45,"span",33),o(46,"Select Size ( UK Size )"),i(),t(47,"span",34),o(48,"Size Chart >"),i()(),t(49,"div",35)(50,"div",36),a("click",function(){return e.setSelectedSize("S")}),o(51,"S"),i(),t(52,"div",37),a("click",function(){return e.setSelectedSize("M")}),o(53,"M"),i(),t(54,"div",38),a("click",function(){return e.setSelectedSize("L")}),o(55,"L"),i(),t(56,"div",39),a("click",function(){return e.setSelectedSize("XL")}),o(57,"XL"),i(),t(58,"div",40),a("click",function(){return e.setSelectedSize("XXL")}),o(59,"XXL"),i()()(),t(60,"p",41),o(61),i(),t(62,"div",42)(63,"button",43),o(64,"Buy Now"),i(),t(65,"button",44),a("click",function(){return e.addToCart()}),o(66,"Add to cart"),i()()()()),n&2&&(s(6),z(e.productDetails==null?null:e.productDetails.brand_name),s(10),p("src","assets/img/products/"+e.currentImage+".jpg",I)("alt",e.currentImage),s(10),_("",e.productDetails==null?null:e.productDetails.product_name," "),s(),p("ngIf",!e.inWishlist),s(),p("ngIf",e.inWishlist),s(3),_("\u20B9",e.productDetails==null?null:e.productDetails.selling_price,""),s(2),_("\u20B9",e.productDetails==null?null:e.productDetails.mrp,""),s(2),_("(",e.productDetails==null?null:e.productDetails.discount_percent," OFF)"),s(15),h("background-color",e.selectedSize==="S"?"#CCEDF0":"#EFFAFB"),p("ngClass",f(25,v,e.selectedSize==="S")),s(2),h("background-color",e.selectedSize==="M"?"#FDD3E7":"#FEF1F9"),p("ngClass",f(27,v,e.selectedSize==="M")),s(2),h("background-color",e.selectedSize==="L"?"#C7C4FD":"#FAF9FF"),p("ngClass",f(29,v,e.selectedSize==="L")),s(2),h("background-color",e.selectedSize==="XL"?"#FCE78D":"#FEFCEF"),p("ngClass",f(31,v,e.selectedSize==="XL")),s(2),h("background-color",e.selectedSize==="XXL"?"#ADFCC7":"#F0FDF3"),p("ngClass",f(33,v,e.selectedSize==="XXL")),s(3),_(" ",e.productDetails==null?null:e.productDetails.product_description," "))},dependencies:[O,F,D],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.header1[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.search-icon[_ngcontent-%COMP%]{width:32px;height:31px}.header-icon[_ngcontent-%COMP%]{width:32px;height:25px;margin-left:5px;margin-right:5px;cursor:pointer}.content[_ngcontent-%COMP%]{padding:10px;flex-grow:1;overflow-y:auto}.product-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:42px;margin-bottom:20px;align-items:center}.color-options[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.color-option[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%}.product-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}.price-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:10px}.current-price[_ngcontent-%COMP%]{font-size:24px;font-weight:400;color:#4e5a37}.original-price[_ngcontent-%COMP%]{font-size:16px;text-decoration:line-through;color:#4e5a37}.discount[_ngcontent-%COMP%]{font-size:16px;color:#f52727}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:20px}.star-icon[_ngcontent-%COMP%]{width:21px;height:21px;fill:#ffc567}.rating-text[_ngcontent-%COMP%]{font-size:17px;font-weight:400}.reviews[_ngcontent-%COMP%]{font-size:12px;color:#9a9a9a}.size-selection[_ngcontent-%COMP%]{margin-bottom:20px}.size-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.size-title[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.size-chart[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#fb818c;margin-right:5px}.size-options[_ngcontent-%COMP%]{display:flex;gap:12px}.size-option[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:14px;font-weight:500}.product-description[_ngcontent-%COMP%]{font-size:16px;line-height:21px;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:15px}.action-button[_ngcontent-%COMP%]{flex:1;height:60px;display:flex;justify-content:center;align-items:center;border-radius:8px;font-size:20px;font-weight:700}.wishlist-button[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#242424;max-width:60px}.buy-now-button[_ngcontent-%COMP%]{background-color:#fff}.add-to-cart-button[_ngcontent-%COMP%]{background-color:#242424;color:#fff}.product-images[_ngcontent-%COMP%]   .carousel-prev[_ngcontent-%COMP%], .product-images[_ngcontent-%COMP%]   .carousel-next[_ngcontent-%COMP%]{position:absolute;top:34%;transform:translateY(-50%);cursor:pointer;font-size:24px;color:#666;background-color:transparent;border:none;padding:10px}.carousel-prev[_ngcontent-%COMP%]{left:10px}.carousel-next[_ngcontent-%COMP%]{right:10px}.carousel-prev[_ngcontent-%COMP%]:hover, .carousel-next[_ngcontent-%COMP%]:hover{color:#333}.carousel-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border:1px solid #ddd}"]})}}return c})();export{R as ProductComponent};
